buildscript {
	dependencies {
		classpath group: "com.liferay", name: "com.liferay.gradle.plugins.source.formatter", version: "2.3.95"
	}

	repositories {
		maven {
			url "https://repository-cdn.liferay.com/nexus/content/groups/public"
		}
	}
}

apply plugin: "com.liferay.source.formatter"
apply plugin: 'java'

group 'com.liferay.osb.pulpo.lambda'
version '1.0-SNAPSHOT'

repositories {
	mavenCentral()
}

dependencies {
	compile group: "com.jayway.restassured", name: "rest-assured", version: "2.9.0"
	compile group: "com.amazonaws", name: "aws-java-sdk-core", version: "1.11.292"
	compile group: "com.amazonaws", name: "aws-lambda-java-core", version: "1.1.0"
	compile group: "com.amazonaws", name: "aws-lambda-java-events", version: "2.2.2"
	compile group: "javax.json", name: "javax.json-api", version: "1.1.2"
	compile group: "org.glassfish", name: "javax.json", version: "1.1.2"

	testCompile group: "junit", name: "junit", version: "4.12"
}

task buildZip(type: Zip) {
	from compileJava
	from processResources
	into('lib') {
		from configurations.runtime
	}
}

build.dependsOn buildZip

sourceCompatibility = "1.8"